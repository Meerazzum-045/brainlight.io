<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<meta charset="UTF-8">
<head>
    <style>
        body {
            background-color: hsl(25, 100%, 49%);
            margin: 0;
            height: 100%;
            overflow: hidden;
            touch-action: none; /* Prevent zoom and pan */
        }
        .lottie-animation {
            position: absolute;
            width: 150px;
            height: 150px;
            transform: translate(-50%, -50%);
            pointer-events: none; /* Prevent animations from capturing touch events */
        }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.6/lottie.min.js"></script>
</head>
<body>

<script>
    
    var touchAnimations = {};

    function createAnimation(id, x, y) {
        if (Object.keys(touchAnimations).length >= 5 || touchAnimations[id]) return; // Limit to 5 touches and prevent recreation

        var container = document.createElement('div');
        container.className = 'lottie-animation';
        container.style.left = x + 'px'; // Set the initial position
        container.style.top = y + 'px'; // Set the initial position
        document.body.appendChild(container);

        var params = {
            container: container,
            renderer: 'svg',
            loop: false, // Only play once
            autoplay: true,
            path: "https://raw.githubusercontent.com/Meerazzum-045/brainlight.io/main/C.json"
        };

        var anim = lottie.loadAnimation(params);
        touchAnimations[id] = { container: container, animation: anim };
    }

    function updateAnimationPosition(id, x, y) {
        if (touchAnimations[id]) {
            var container = touchAnimations[id].container;
            container.style.left = x + 'px'; // Update position
            container.style.top = y + 'px'; // Update position
        }
    }

    function removeAnimation(id) {
        if (touchAnimations[id]) {
            var container = touchAnimations[id].container;
            var anim = touchAnimations[id].animation;
            anim.destroy(); // Destroy the animation instance
            document.body.removeChild(container); // Remove the container
            delete touchAnimations[id];
        }
    }

    document.addEventListener('touchstart', function(event) {
        event.preventDefault(); // Prevent scrolling and zooming
        var touches = event.touches;
        for (var i = 0; i < touches.length; i++) {
            if (!touchAnimations[touches[i].identifier]) {
                createAnimation(touches[i].identifier, touches[i].clientX, touches[i].clientY);
            }
        }
    });

    document.addEventListener('touchmove', function(event) {
        event.preventDefault(); // Prevent scrolling and zooming
        var touches = event.touches;
        for (var i = 0; i < touches.length; i++) {
            updateAnimationPosition(touches[i].identifier, touches[i].clientX, touches[i].clientY);
        }
    });

    document.addEventListener('touchend', function(event) {
        event.preventDefault(); // Prevent scrolling and zooming
        var touches = event.changedTouches;
        for (var i = 0; i < touches.length; i++) {
            removeAnimation(touches[i].identifier);
        }
    });

    document.addEventListener('touchcancel', function(event) {
        event.preventDefault(); // Prevent scrolling and zooming
        var touches = event.changedTouches;
        for (var i = 0; i < touches.length; i++) {
            removeAnimation(touches[i].identifier);
        }
    });
</script>
</body>
</html>
